(function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/platform-browser"),require("@angular/router"),require("rxjs/add/operator/filter")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/platform-browser","@angular/router","rxjs/add/operator/filter"],e):"object"==typeof exports?exports.meta=e(require("@angular/core"),require("@angular/platform-browser"),require("@angular/router"),require("rxjs/add/operator/filter")):t.meta=e(t["@angular/core"],t["@angular/platform-browser"],t["@angular/router"],t["rxjs/add/operator/filter"])})(this,function(t,e,r,a){return function(t){function e(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,a){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=8)}([function(t,e,r){"use strict";var a=r(1);r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n});var i=function(){function t(){}return t}(),n=function(){function t(t){void 0===t&&(t={pageTitlePositioning:a.a.PrependPageTitle,defaults:{}}),this.settings=t}return t.prototype.getSettings=function(){return this.settings},t}()},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var a;(function(t){t[t.AppendPageTitle=0]="AppendPageTitle",t[t.PrependPageTitle=10]="PrependPageTitle"})(a||(a={}))},function(t,e,r){"use strict";var a=r(3),i=r(5),n=(r.n(i),r(4)),o=(r.n(n),r(6)),s=(r.n(o),r(7)),l=(r.n(s),r(1)),u=r(0);r.d(e,"a",function(){return c});var c=function(){function t(t,e,r,a,i){var n=this;this.loader=t,this.router=e,this.document=r,this.titleService=a,this.activatedRoute=i,this.metaSettings=t.getSettings(),this.isMetaSet={},this.router.events.filter(function(t){return t instanceof o.NavigationEnd}).subscribe(function(t){for(var e=n.activatedRoute;e.children.length>0;)if(e=e.firstChild,e.snapshot.routeConfig.data){var r=e.snapshot.routeConfig.data.meta;n.updateMeta(t.urlAfterRedirects,r)}else n.updateMeta(t.urlAfterRedirects)})}return t.prototype.setTitle=function(t,e){void 0===e&&(e=!1);var r=this.getOrCreateMetaTag("og:title"),a=this.metaSettings.defaults?this.metaSettings.defaults.title:"";switch(this.metaSettings.pageTitlePositioning){case l.a.AppendPageTitle:t=(!e&&this.metaSettings.pageTitleSeparator&&this.metaSettings.applicationName?this.metaSettings.applicationName+this.metaSettings.pageTitleSeparator:"")+(t?t:a||"");break;case l.a.PrependPageTitle:t=(t?t:a||"")+(!e&&this.metaSettings.pageTitleSeparator&&this.metaSettings.applicationName?this.metaSettings.pageTitleSeparator+this.metaSettings.applicationName:"");break;default:throw new Error("Invalid pageTitlePositioning specified ["+this.metaSettings.pageTitlePositioning+"]!")}t||console.warn('WARNING: No "page title" specified.'),r.setAttribute("content",t),this.titleService.setTitle(t)},t.prototype.setTag=function(t,e){if("title"===t)throw new Error("Attempt to set "+t+" through 'setTag': 'title' is a reserved tag name. Please use 'MetaService.setTitle' instead.");e=e?e:this.metaSettings.defaults?this.metaSettings.defaults[t]:"";var r=this.getOrCreateMetaTag(t);if(r.setAttribute("content","og:locale"===t?e.replace(/-/g,"_"):e),this.isMetaSet[t]=!0,"description"===t){var a=this.getOrCreateMetaTag("og:description");a.setAttribute("content",e)}else if("author"===t){var i=this.getOrCreateMetaTag("og:author");i.setAttribute("content",e)}else if("publisher"===t){var n=this.getOrCreateMetaTag("og:publisher");n.setAttribute("content",e)}else if("og:locale"===t){var o=this.metaSettings.defaults?this.metaSettings.defaults["og:locale:alternate"]:"";this.updateLocales(e,o),this.isMetaSet["og:locale:alternate"]=!0}else if("og:locale:alternate"===t){var s=this.getOrCreateMetaTag("og:locale"),l=s.getAttribute("content");this.updateLocales(l,e),this.isMetaSet["og:locale"]=!0}},t.prototype.createMetaTag=function(t){var e=this.document.createElement("meta");return e.setAttribute(0===t.lastIndexOf("og:",0)?"property":"name",t),this.document.head.appendChild(e),e},t.prototype.getOrCreateMetaTag=function(t){var e='meta[name="'+t+'"]';0===t.lastIndexOf("og:",0)&&(e='meta[property="'+t+'"]');var r=this.document.querySelector(e);return r||(r=this.createMetaTag(t)),r},t.prototype.updateLocales=function(t,e){var r=this;t||(t=this.metaSettings.defaults?this.metaSettings.defaults["og:locale"]:"");var a=this.document.querySelector("html");a.setAttribute("lang",t);var i='meta[property="og:locale:alternate"]',n=this.document.querySelectorAll(i);n=Array.prototype.slice.call(n),n.forEach(function(t){r.document.head.removeChild(t)}),t&&e&&e.split(",").forEach(function(e){if(t!==e){var a=r.createMetaTag("og:locale:alternate");a.setAttribute("content",e.replace(/-/g,"_"))}})},t.prototype.updateMeta=function(t,e){var r=this;if(e){if(e.disabled)return void this.updateMeta(t);this.setTitle(e.title,e.override),Object.keys(e).forEach(function(t){var a=e[t];if("title"!==t&&"override"!==t){if("og:locale"===t)a=a.replace(/-/g,"_");else if("og:locale:alternate"===t){var i=e["og:locale"];return void r.updateLocales(i,e[t])}r.setTag(t,a)}})}else{var a=this.metaSettings.defaults?this.metaSettings.defaults.title||this.metaSettings.applicationName:this.metaSettings.applicationName;this.setTitle(a,!0)}this.metaSettings.defaults&&Object.keys(this.metaSettings.defaults).forEach(function(t){var a=r.metaSettings.defaults[t];if(!(e&&(t in r.isMetaSet||t in e)||"title"===t||"override"===t)){if("og:locale"===t)a=a.replace(/-/g,"_");else if("og:locale:alternate"===t){var i=e?e["og:locale"]:void 0;return void r.updateLocales(i,r.metaSettings.defaults[t])}r.setTag(t,a)}});var i=((this.metaSettings.applicationUrl||"/")+t).replace(/(https?:\/\/)|(\/)+/g,"$1$2").replace(/\/$/g,"");this.setTag("og:url",i||"/")},t}();c=a.a([r.i(n.Injectable)(),a.b(2,r.i(n.Inject)(i.DOCUMENT)),a.c("design:paramtypes",[u.a,o.Router,Object,i.Title,o.ActivatedRoute])],c)},function(t,e,r){"use strict";function a(t,e,r,a){var i,n=arguments.length,o=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(n<3?i(o):n>3?i(e,r,o):i(e,r))||o);return n>3&&o&&Object.defineProperty(e,r,o),o}function i(t,e){return function(r,a){e(r,a,t)}}function n(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}e.a=a,e.b=i,e.c=n;Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(e,r){e.exports=t},function(t,r){t.exports=e},function(t,e){t.exports=r},function(t,e){t.exports=a},function(t,e,r){"use strict";function a(){return new o.b}Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),n=r(4),o=(r.n(n),r(0)),s=r(2),l=r(1);r.d(e,"PageTitlePositioning",function(){return l.a}),r.d(e,"MetaLoader",function(){return o.a}),r.d(e,"MetaStaticLoader",function(){return o.b}),r.d(e,"MetaService",function(){return s.a}),e.metaFactory=a,r.d(e,"MetaModule",function(){return u});var u=c=function(){function t(t){if(t)throw new Error("MetaModule already loaded; import in root module only.")}return t.forRoot=function(t){return void 0===t&&(t={provide:o.a,useFactory:a}),{ngModule:c,providers:[t,s.a]}},t}();u=c=i.a([r.i(n.NgModule)(),i.b(0,r.i(n.Optional)()),i.b(0,r.i(n.SkipSelf)()),i.c("design:paramtypes",[u])],u);var c}])});